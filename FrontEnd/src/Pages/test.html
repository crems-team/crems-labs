<Panel  header="Choose Area" headerTemplate={headerPane1} toggleable>
        <div className="grid" key={refreshKey}>



          <div className="col-6 md:col-4 col-3">
            <span className="p-float-label">
              <AutoComplete inputId="autocompletstate" field="name" value={Currentstate} suggestions={states} completeMethod={filterStates} onChange={(e) => { setCurrentStates(e.value) }} dropdown />
              <label htmlFor="autocompletstate">Choose State</label>

            </span>
          </div>

          <div className="col-6 md:col-4 col-3">
            <span className="p-float-label">
              <AutoComplete inputId="autocompletcounty" field="name" value={CurrentCountie} suggestions={counties} completeMethod={filterCounties} onChange={(e) => { setCurrentCounties(e.value) }} dropdown />
              <label htmlFor="autocompletcounty">Choose County</label>
            </span>
          </div>

          <div className="col-6 md:col-4 col-3">
            <span className="p-float-label">
              <AutoComplete inputId="autocompletcity" field="name" value={currentCity} suggestions={cities} completeMethod={filterCities} onChange={(e) => { setCurrentCities(e.value) }} dropdown />
              <label htmlFor="autocompletcity">Choose City</label>
            </span>
          </div>

          <div className="col-6 md:col-6 col-3">
            <span className="p-float-label">
              <MultiSelect inputId="multiselect" value={selectedZipCode} options={zipcodes} onChange={(e) => { setSelectedZipCode(e.value); handleClickZip(e.value) }} optionLabel="zip" className="w-full md:w-20rem" />
              <label htmlFor="multiselect">Zip Codes</label>

            </span>

          </div>

          <div className="col-12 md:col-6 col-4">

            <div className="flex flex-wrap gap-2">
              <div className="flex align-items-center">
                <span>Number of month</span>
              </div>
              <div className="flex align-items-center">
                <RadioButton inputId="3" name="3" value={3} onChange={(e: RadioButtonChangeEvent) => setCurrentMonth(e.value)} checked={currentMonth === 3} />
                <label htmlFor="3" className="ml-2">3</label>
              </div>
              <div className="flex align-items-center">
                <RadioButton inputId="6" name="6" value={6} onChange={(e: RadioButtonChangeEvent) => setCurrentMonth(e.value)} checked={currentMonth === 6}/>
                <label htmlFor="6" className="ml-2">6</label>
              </div>
              <div className="flex align-items-center">
                <RadioButton inputId="9" name="9" value={9} onChange={(e: RadioButtonChangeEvent) => setCurrentMonth(e.value)} checked={currentMonth === 9}/>
                <label htmlFor="9" className="ml-2">9</label>
              </div>
              <div className="flex align-items-center">
                <RadioButton inputId="12" name="12" value={12} onChange={(e: RadioButtonChangeEvent) => setCurrentMonth(e.value)} checked={currentMonth === 12}/>
                <label htmlFor="12" className="ml-2">12</label>
              </div>

            </div>

          </div>
          <div className="col-12 md:col-fixed">
            <span role="button"  onClick={(event) => ref.current?.toggle(event)}><ZoomButton zoom={15} zips={currentZip ? currentZip : []} city={currentCity ? currentCity : null} isLoadingTransactions={isLoadingTransactions} onLoadingTransactionsChange={handleLoadingTransactions} nbrMonth={currentMonth ? currentMonth : 12}
              saveSearchHistory={saveSearchHistory} handleClickActivityReport={handleClickActivityReport}/></span>
            <ClearButton clearData={clearData} />
          </div>
          <div className="col-md-4">

            <div className="card" >
                <div className="card-header bg-primary text-white">
                    <span className="page-title">Area History</span>
                    <span className="subtitle" style={{ fontSize: '12px' }}>
                        Click the <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" className="bi bi-square" viewBox="0 0 16 16">
                            <path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z" />
                        </svg> icon to save. Click the <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" className="bi bi-check-square-fill" viewBox="0 0 16 16">
                            <path d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm10.03 4.97a.75.75 0 0 1 .011 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.75.75 0 0 1 1.08-.022z"></path>
                        </svg> icon to unsave.
                    </span>

                </div>
                <div className="card-body cardRecentSearch">
                    {isLoadingSavedSearch ? (<div  >
                        <ul className="" style={{ listStyleType: 'none' }}>

                            <li>
                                <BeatLoader className="loading-container mt-3" size={10} color="#36d7b7" />
                            </li>

                        </ul>
                    </div>
                    ) :
                        searchHistory.length > 0 ? (
                            <ul className="list-group">
                                {searchHistory.map((search, index) => (
                                    <li key={index} className="list-group-item d-flex justify-content-between align-items-center" >
                                        <span role="button" >
                                           {"City: "}{search.city}{" | zip "}{"["+ search.zips+"]"}
                                        </span>
                                        <Checkbox onChange={(event) => toggleFavorite(search, event)} checked={!search.isFavorite}></Checkbox>
                                        {/* <button
                  className={`btn ${search.isFavorite ? 'btn-primary' : 'btn-danger'}`}
                  onClick={(event) => toggleFavorite(search,event)}
                > */}
                                        {/* <FontAwesomeIcon icon={search.isFavorite ?  faStarHalfAlt:  faStar} /> */}
                                        {/* <FontAwesomeIcon icon={search.isFavorite ? faSave : faTrashAlt } /> */}

                                        {/* </button> */}
                                    </li>
                                ))}
                            </ul>
                        ) :
                            <ul className="list-group">
                                <li className="list-group-item d-flex justify-content-between align-items-center">
                                    No recent searches.

                                </li>
                            </ul>


                    }

                </div>
            </div>

        </div>
        
          <Divider />
          <Messages ref={msgs} />


        </div>
      </Panel>